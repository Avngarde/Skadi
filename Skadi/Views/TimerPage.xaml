<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:Skadi.ViewModels"
             xmlns:customs="clr-namespace:Skadi.Custom"
             Title="Timer"
             x:Class="Skadi.Views.TimerPage">
    
    <ContentPage.BindingContext>
        <viewModels:TimerPageViewModel/>
    </ContentPage.BindingContext>
    
    <VerticalStackLayout Margin="0, 50, 0, 0">
        <Frame Grid.Row="0" BorderColor="Transparent">
            <customs:CircularProgressBar
                Progress="{Binding TimerProgress}"
                ProgressLeftColor="{StaticResource Gray100}" 
                ProgressColor="{StaticResource Primary}"
                Size="300"              
                Thickness="50" />
        </Frame>
        
        <Grid Margin="50, 30, 50, 0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="40*" />
                <ColumnDefinition Width="5*"  />
                <ColumnDefinition Width="40*" />
            </Grid.ColumnDefinitions>
            <Picker ItemsSource="{Binding Minutes}" HorizontalTextAlignment="Center" FontSize="25" SelectedItem="{Binding Minute}" />
            <Label Text=":" Grid.Column="1" VerticalTextAlignment="Center" HorizontalTextAlignment="Center" FontSize="25" />
            <Picker Grid.Column="2" ItemsSource="{Binding Seconds}" FontSize="25" HorizontalTextAlignment="Center" SelectedItem="{Binding Second}" />
        </Grid>
        
        <Grid Margin="0,20,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50*" />
                <ColumnDefinition Width="50*" />
            </Grid.ColumnDefinitions>
            
            <Button Text="⏹️" Margin="10" BorderColor="IndianRed" BorderWidth="1.5" BackgroundColor="White" FontSize="30" Command="{Binding ResetButtonCommand}" />
            <Button Grid.Column="1" Text="{Binding PlayPauseSymbol}" Margin="10" BorderColor="Green" BorderWidth="1.5" BackgroundColor="White" FontSize="30" Command="{Binding PlayPauseClickedCommand}" />
        </Grid>
    </VerticalStackLayout>
</ContentPage>
